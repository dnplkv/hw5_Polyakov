{% extends 'main/base.html' %}

{% block title %}
{{ title }}
{% endblock %}

{% block content %}
<div class="container">
    <h1>{{ title }}</h1>
    <div class="payload">
        <table class="table table-hover table-sm">
            <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Total amount of books</th>
                {% if request.user.is_authenticated %}
                <th scope="col">Delete</th>
                {% endif %}
            </tr>
            </thead>
            <tbody>
            {% for author in authors %}
            <tr>
                <td>{{ author.id }}</td>
                <td>{{ author.name }}</td>
                <td>{{ author.email }}</td>
                <td>{{ author.books.count }}</td>
                <td>{% if request.user.is_authenticated %}
                <a href="{% url 'delete_author' author_id=author.id %}"><button class="btn btn-xs btn-danger">X</button></a>
                {% endif %}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}